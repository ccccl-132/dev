version: 2
jobs:
  build:
     docker:
       - image: circleci/node:14
     branches:
       only:
         - main
     steps:
       - add_ssh_keys:
           fingerprints:
             - "79:a7:6f:99:e7:aa:be:91:2d:1f:4c:10:25:f0:53:11" 
       - checkout
       - restore_cache:
           keys:
             - dependencies-
       - run:
           name: Install
           command: npm install
       - save_cache:
           paths:
             - node_modules
           key: dependencies-
       - run:
           name: Build github pages
           command: npm run build
